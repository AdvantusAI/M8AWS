<script src="../assets/aggrid/ag-grid-enterprise.min.js"></script>

<div id="myGrid" style="height: 80%; width:500px;" class="ag-theme-quartz"></div>
<script>
agGrid.LicenseManager.setLicenseKey("DownloadDevTools_COM_NDEwMjM0NTgwMDAwMA==59158b5225400879a12a96634544f5b6");
    let gridApiLoc;
                const gridOptionsLoc = {
                  columnDefs: [
                    // group cell renderer needed for expand / collapse icons
                    { field: "ProductId", filter: true, headerName: "ProductId" },
                    { field: "productName", filter: true, headerName: "productName" },
                    { field: "description", filter: true, headerName: "description" },
                    { field: "categoryId", filter: true, headerName: "categoryId" },
                  ],
                  defaultColDef: {
                    flex: 1,
                  },
                };
                
                // setup the grid after the page has finished loading
                document.addEventListener("DOMContentLoaded", function () {
                  var gridDivLoc = document.querySelector("#myGrid");
                  gridApiLoc = agGrid.createGrid(gridDivLoc, gridOptionsLoc);

                  fetch("/product")
                    .then((response) => response.json())
                    .then((data) => {
                      gridApiLoc.setGridOption("rowData", data.products);
                    });
                });

</script>